{% extends "CuerpoVacio.html" %}
{% block cuerpo %}
<div class="right_col" role="main">
  <div class="">
    <div class="page-title">
      <div class="title_left">
        <h3>
              Users
              <small>
                  Some examples to get you started
              </small>
          </h3>
      </div>

      <div class="title_right">
        <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search for...">
            <span class="input-group-btn">
                      <button class="btn btn-default" type="button">Go!</button>
                  </span>
          </div>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>

    <div class="row">

      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_title">
            <h2>Servicios <small>Users</small></h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a href="#"><i class="fa fa-chevron-up"></i></a>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Settings 1</a>
                  </li>
                  <li><a href="#">Settings 2</a>
                  </li>
                </ul>
              </li>
              <li><a href="#"><i class="fa fa-close"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <p class="text-muted font-13 m-b-30">
              Tablas de Servicios, Contratos y Convenios: <code>$().DataTable();</code>
            </p>


<div class="col-md-12 col-sm-12 col-xs-12">
  <div class="x_panel">
    <div class="x_title">
      <h2>Estados de Pagos<small>Contrato :{{NumeroCtto}} : {{DescripCtto}} </small></h2>
      <ul class="nav navbar-right panel_toolbox">
        <li><a href="#"><i class="fa fa-chevron-up"></i></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">Settings 1</a>
            </li>
            <li><a href="#">Settings 2</a>
            </li>
          </ul>
        </li>
        <li><a href="#"><i class="fa fa-close"></i></a>
        </li>
      </ul>
      <div class="clearfix"></div>
    </div>
    <div class="x_content">
      <p class="text-muted font-13 m-b-30">
        Responsive is an extension for DataTables that resolves that problem by optimising the table's layout for different screen sizes through the dynamic insertion and removal of columns from the table.
      </p>




      <div class='form-group'>
          <div class="row">
              <div class="col-lg-3">


              </div>
              <div class="col-lg-7">

              </div>

              <div class="col-lg-2">

              </div>



          </div>
      </div>
      <div class="row">
          <div class="col-lg-12">
            <table id="datatable-responsive6" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th class="text-center">Nº EDP</th>
                        <th class="text-center">Periodo Inicial</th>
                        <th class="text-center">Peridod Final</th>
                        <th class="text-center">Valor EDP</th>
                        <th class="text-center">Dev Anticipo</th>
                        <th class="text-center">Retención</th>
                        <th class="text-center">Dev Retención</th>
                        <th class="text-center">Factura</th>


                    </tr>
                </thead>
                <tbody>

                {% for edp in Valedp %}
                  {% if edp.IdCtto_id == Validctto %}

                    <tr>
                        <td>{{ edp.NumEDP }}</td>
                        <td>{{ edp.PeriodEDP }}</td>
                        <td>{{ edp.PeriodEDPTer }}</td>
                        <td>{{ edp.ValEDP }} {{ edp.IdCtto.MonedaCtto}}</td>
                        <td>{{ edp.DevAntEDP }}</td>
                        <td>{{ edp.RetEDP }}</td>
                        <td>{{ edp.DevRet }}</td>
                        <td>{{ edp.FactEDP }}</td>


                    </tr>
                  {% endif %}
                {% endfor %}
                </tbody>
            </table>
          </div>
      </div>
    </div>
  </div>
</div>

</div>
</div>
</div>

</div>
</div>





<div class="clearfix"></div>

<div class="row">

  <div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
      <div class="x_title">
        <h2>Servicios <small>Users</small></h2>
        <ul class="nav navbar-right panel_toolbox">
          <li><a href="#"><i class="fa fa-chevron-up"></i></a>
          </li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#">Settings 1</a>
              </li>
              <li><a href="#">Settings 2</a>
              </li>
            </ul>
          </li>
          <li><a href="#"><i class="fa fa-close"></i></a>
          </li>
        </ul>
        <div class="clearfix"></div>
      </div>
      <div class="x_content">
        <p class="text-muted font-13 m-b-30">
          Tablas de Servicios, Contratos y Convenios: <code>$().DataTable();</code>
        </p>



<div class="col-md-12 col-sm-12 col-xs-12">
  <div class="x_panel">
    <div class="x_title">
      <h2>Avance Items Contrato Original<small>Contrato :{{NumeroCtto}} : {{DescripCtto}} </small></h2>

      <button id="button" type="button" class="btn">Basic</button>

      <ul class="nav navbar-right panel_toolbox">
        <li><a href="#"><i class="fa fa-chevron-up"></i></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">Settings 1</a>
            </li>
            <li><a href="#">Settings 2</a>
            </li>
          </ul>
        </li>
        <li><a href="#"><i class="fa fa-close"></i></a>
        </li>
      </ul>
      <div class="clearfix"></div>
    </div>
    <div class="x_content">
      <p class="text-muted font-13 m-b-30">
        Responsive is an extension for DataTables that resolves that problem by optimising the table's layout for different screen sizes through the dynamic insertion and removal of columns from the table.
      </p>




      <div class='form-group'>
          <div class="row">
              <div class="col-lg-3">


              </div>
              <div class="col-lg-7">

              </div>

              <div class="col-lg-2">

              </div>



          </div>
      </div>
      <div class="row">
          <div class="col-lg-12">
                          <table id="example" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                              <thead>
                                  <tr>
                                      <th class="text-center">Nº Item</th>
                                      <th class="text-center">IdCeco</th>
                                      <th class="text-center">Descripción</th>
                                      <th class="text-center">Unidad</th>
                                      <th class="text-center">Cantidad</th>
                                      <th class="text-center">PU</th>
                                      <th class="text-center">Cantidad EDP</th>


                                  </tr>
                              </thead>
                              <tbody>

                              {% for item in ItemCtto %}
                                  <tr>
                                      <td>{{ item.NumItem }}</td>
                                      <td>{{ item.IdCecoCtto }}</td>
                                      <td>{{ item.DescripItem }}</td>
                                      <td>{{ item.UnidItem }}</td>
                                      <td>{{ item.CantItem }}</td>
                                      <td>{{ item.PuItem }}</td>
                                      <td><input type="text" id=item name=item value="59"></td>


                                  </tr>

                              {% endfor %}
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
        </div>

    </div>
</div>












          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
              <div class="x_title">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">


                  <div class="panel-body">
                      <form role="form" action="#" method="post">{% csrf_token %}
                          <div class="form-group">

                            {% for field in form %}
                                {{ field.errors }}
                                {{ field.label_tag }}</br>
                                {{ field }}</br>
                            {% endfor %}
                          </div>
                          <div class='form-group'>
                              <input type="submit" class="btn btn-primary" name="submit" value="Guardar Estado de Pago">
                              <button type="reset" class="btn btn-primary" onclick="location.href='{% url 'personas:personas' %}'">
                                  Cancelar
                              </button>
                          </div>
                      </form>
                  </div>

                </div>
                <div class="clearfix"></div>
              </div>
                <div class="x_content">
                  <p class="text-muted font-13 m-b-30">
                    Tablas de Servicios, Contratos y Convenios: <code>$().DataTable();</code>
                  </p>
                </div>
            </div>
          </div>




{% endblock cuerpo %}

{% block js %}

<script type="text/javascript">
  $(document).ready(function() {
    $('#datatable').dataTable();
    $('#datatable-keytable').DataTable({
      keys: true
    });

    var table1 = $('#datatable-responsive5').DataTable({
      scrollY: 500,
      scrollCollapse: true,
      ordering: true,
      info: true,
      fixedHeader: true,
    });

    var table2 = $('#datatable-responsive6').DataTable({
      scrollY: 500,
      scrollCollapse: true,
      ordering: true,
      info: true,
      fixedHeader: true,
    });

    var table3 = $('#datatable-responsive7').DataTable({
      scrollY: 500,
      scrollCollapse: true,
      ordering: true,
      info: true,
      fixedHeader: true,
    });



    $('#datatable-scroller').DataTable({
      ajax: "static/js/datatables/json/scroller-demo.json",
      deferRender: true,
      scrollY: 380,
      scrollCollapse: true,
      scroller: true
    });
    var table = $('#datatable-fixed-header').DataTable({
      fixedHeader: true
    });







    $('#datatable-responsive5').on( 'click', 'tr', function()
    {
        if ($(this).hasClass('selected') )
        {
            $(this).removeClass('selected');

        }
        else
        {
            table1.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }

    });

    $('#datatable-responsive5').on( 'dblclick', 'tr', function()
    {

        var data = table1.row( this ).data();
        //alert( 'Apretaste '+data[0]+'\'s row' );
        var id = this.rowIndex;
        ur = '/editar_contrato/'+ data[0]
        window.location.href= ur;

        $.ajax({
            data : {'id':id},
            url  : '/editar_contrato/',
            type: 'get',
        })
    });


    $('#datatable-responsive6').on( 'dblclick', 'tr', function()
    {

        var data = table2.row( this ).data();
        //alert( 'Apretaste el '+data[0]+'\'s row' );
        var id = this.rowIndex;
        ur = '/editar_contrato/'+ data[0]
        window.location.href= ur;

        $.ajax({
            data : {'id':id},
            url  : '/editar_contrato/',
            type: 'get',
        })
    });

    $('#datatable-responsive7').on( 'dblclick', 'tr', function()
    {

        var data = table3.row( this ).data();
        // alert( 'You clicked on '+data[0]+'\'s row' );
        var id = this.rowIndex;
        ur = '/editar_contrato/'+ data[0]
        window.location.href= ur;


        $.ajax({
            data : {'id':id},
            url  : '/editar_contrato/',
            type: 'get',
        })
    });


  });



  TableManageButtons.init();
</script>

<script>
$(document).ready(function(){
    $('a[data-toggle="tab"]').on('shown.bs.tab', function(e){
        var currentTab = $(e.target).text(); // get current tab
        var LastTab = $(e.relatedTarget).text(); // get last tab
        $(".current-tab span").html(currentTab);
        $(".last-tab span").html(LastTab);
    });
});
</script>

<script>

$(document).ready(function() {
    var table = $('#example').DataTable();

    $('button').click( function() {
        var data = table.$('input, select').serialize();
        alert(
            "The following data would have been submitted to the server: \n\n"+
            data.substr( 0, 120 )+'...'
        );
        return false;
    } );
} );

</script>


{% endblock js %}
